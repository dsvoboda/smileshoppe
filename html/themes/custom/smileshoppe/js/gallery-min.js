!function(a){"use strict";var t=[];function i(a){a.css("height",a.find(".active").outerHeight())}Drupal.behaviors.smileshoppe_gallery={attach:function(e,d){a(e).find(".item-list-wrapper").once("gallery-setup").each(function(e){t=[],a(window).load(function(){var e;(e=a(this)).find(".type-gallery-image").each(function(i){var d,n,r;d=a(this),n=d.find(".before"),r=d.find(".after"),n.css("background-image","url("+n.find("img").attr("src")+")"),r.css("background-image","url("+r.find("img").attr("src")+")"),n.empty(),r.empty(),t.push(d.attr("data-id")),d.addClass("init"),a(this).appendTo(e)}),e.find(".item-list").remove(),e.append(a("<div />",{class:"next"})),e.append(a("<div />",{class:"prev"})),e.attr("data-index",e.find(":first-child").attr("data-id")),e.find('[data-id="'+e.attr("data-index")+'"]').addClass("active"),e.find(".next").click(function(a){a.preventDefault(),e.find(".type-gallery-image").removeClass("active");var d=parseInt(t.indexOf(e.attr("data-index"))+1);d<t.length?e.find('[data-id="'+t[d]+'"]').addClass("active"):e.find('[data-id="'+t[0]+'"]').addClass("active"),e.attr("data-index",e.find(".active").attr("data-id")),i(e)}),e.find(".prev").click(function(a){a.preventDefault(),e.find(".type-gallery-image").removeClass("active");var d=parseInt(t.indexOf(e.attr("data-index"))-1);d>=0?e.find('[data-id="'+t[d]+'"]').addClass("active"):e.find('[data-id="'+t[parseInt(t.length-1)]+'"]').addClass("active"),e.attr("data-index",e.find(".active").attr("data-id")),i(e)}),a("#block-views-block-gallery-gallery").addClass("ready"),i(a(this))})})}}}(jQuery);